(()=>{"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e(t,n){return(e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,n,r){return(f=c()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i}).apply(null,arguments)}function l(t){var n="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,o)}function o(){return f(t,arguments,u(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e(o,t)})(t)}function s(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,e=u(t);if(n){var o=u(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return a(this,r)}}var d=function(n){o(i,n);var e=p(i);function i(){var n;t(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return s(r(n=e.call.apply(e,[this].concat(a))),"name","NotNullExpected"),n}return i}(function(e){o(c,e);var i,a,u=p(c);function c(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(this,c),s(r(n=u.call(this,e)),"name","RuntimeError"),n.message=e,n}return i=c,(a=[{key:"toString",value:function(){return this.message?this.name+": "+this.message:this.name}}])&&n(i.prototype,a),c}(l(Error)));function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var y,v=(y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},function(t){return String(t).replace(/[&<>"'`=/]/g,(function(t){return y[t]}))});function w(t){for(var n=t.length,r=0,e=0;e<n;e++){var o=t.charCodeAt(e);0<=o&&o<=25?r+=0:32<=o&&o<=8191?r+=1:8192<=o&&o<=65376?r+=2:65377<=o&&o<=65439?r+=1:65440<=o&&(r+=2)}return r}function b(t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function m(t){return window.linkifyStr(t,{})}function g(t){(void 0===t?$("img[data-flip]"):t.find("img[data-flip]")).each((function(){j($(this))}))}function F(t,n){var r={};for(var e in n)r[n[e]]=t[e];return r}function j(t){var n=[];n.push(t.attr("src")),$.each(t.data("flip").split(","),(function(t,r){if(!(r=$.trim(r)))return!0;n.push(r)})),n.length<=1||(t.data("computed_flip_array",n),t.data("computed_flip_idx",0),t.click((function(){var n=t.data("computed_flip_array"),r=t.data("computed_flip_idx");r=(r+1)%n.length,t.attr("src",n[r]),t.data("computed_flip_idx",r)})),t.css("cursor","pointer"))}function S(t){void 0===t?t=$(".obj_tooltip"):t.hasClass("obj_tooltip")||(t=t.find(".obj_tooltip")),console.log(t),t.each((function(){var t=$(this);t.data("installHandler")||(t.data("installHandler",!0),t.mouseover((function(){var t=$(this);if(!t.data("setObjTooltip")){var n=t.data("tooltip-class");n||(n="");var r='<div class="tooltip {0}" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'.format(n);t.tooltip({title:function(){return $.trim($(this).find(".tooltiptext").html())},template:r,html:!0}).tooltip("show"),t.data("setObjTooltip",!0)}})))}))}String.prototype.format=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.replace(/{(\d+)}/g,(function(t,r){return void 0!==n[r]?n[r]:t}))},jQuery((function(t){S(),g();var n=localStorage.getItem("sam_customCSS");if(n){var r=t('<style type="text/css"></style>');r.text(n),r.appendTo(t("head"))}})),window.escapeHtml=v,window.isInt=function(t){return+t===t&&!(t%1)},window.mb_strwidth=w,window.mb_strimwidth=function(t,n,r){for(var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=w(e),i=t.length,a=0,u=[],c=n;c<i;c++){var f=t.charAt(c),l=w(f),s=t.charAt(c+1),p=w(s);if(a+=l,u.push(f),a+o+p>r){u.push(e);break}}return u.join("")},window.convertDictById=function(t){for(var n={},r=0,e=Object.values(t);r<e.length;r++){var o=e[r];n[o.id]=o}return n},window.convertSet=function(t){for(var n={},r=0,e=Object.values(t);r<e.length;r++)n[e[r]]=!0;return n},window.hexToRgb=b,window.isBrightColor=function(t){var n=function(t){if(null==t)throw new d;return t}(b(t));return.299*n.r+.587*n.g+.114*n.b>140},window.convColorValue=function(t){return"#"==t.charAt(0)&&(t=t.substr(1)),t=t.toUpperCase(),new Set(["000080","0000FF","008000","008080","00BFFF","00FF00","00FFFF","20B2AA","2E8B57","483D8B","6495ED","7B68EE","7CFC00","7FFFD4","800000","800080","808000","87CEEB","A0522D","A9A9A9","AFEEEE","BA55D3","E0FFFF","F5F5DC","FF0000","FF00FF","FF6347","FFA500","FFC0CB","FFD700","FFDAB9","FFFF00","FFFFFF"]).has(t)?t:"000000"},window.numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},window.linkifyStrWithOpt=m,window.TemplateEngine=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=/<%(.+?)%>/g,e=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,o=0,i=function t(n,r){return u+=r?n.match(e)?n+"\n":"r.push("+n+");\n":""!=n?'r.push("'+n.replace(/"/g,'\\"')+'");\n':"",t};for(n.e=v,n.linkifyStr=m;;){var a=r.exec(t);if(!a)break;i(t.slice(o,a.index))(a[1],!0),o=a.index+a[0].length}i(t.substr(o,t.length-o));var u="with(obj) { var r=[];\n";u=(u+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{return new Function("obj",u).apply(n,[n])}catch(t){throw console.error("'"+t.message+"'"," in \n\nCode:\n",u,"\n"),t}},window.getIconPath=function(t,n){return t?window.pathConfig.root+"/d_pic/"+n:window.pathConfig.sharedIcon+"/"+n},window.activeFlip=g,window.combineObject=F,window.combineArray=function(t,n){var r,e=[],o=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return h(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(t.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value,a=t[i];e[i]=F(a,n)}}catch(t){o.e(t)}finally{o.f()}return e},window.activeFlipItem=j,window.errUnknown=function(){alert("작업을 실패했습니다.")},window.errUnknownToast=function(){jQuery.toast({title:"에러!",content:"작업을 실패했습니다.",type:"danger",delay:5e3})},window.quickReject=function(t){void 0===t&&(t="작업을 실패했습니다.");var n=$.Deferred();return n.reject(t),n.promise()},window.nl2br=function(t){return t.replace(/\n/g,"<br>")},window.getNpcColor=function(t){return t>=2?"cyan":1==t?"skyblue":null},window.initTooltip=S})();
//# sourceMappingURL=common.js.map